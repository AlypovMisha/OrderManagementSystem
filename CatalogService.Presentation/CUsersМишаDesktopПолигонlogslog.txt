
2025-02-11 17:28:54.967 +00:00 [INF] Starting the application.
2025-02-11 17:28:55.789 +00:00 [INF] Starting async initialization
2025-02-11 17:28:55.792 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-11 17:28:56.177 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-11 17:28:56.179 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-11 17:28:56.202 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-11 17:28:56.213 +00:00 [INF] Starting async teardown
2025-02-11 17:28:56.214 +00:00 [INF] Async teardown completed
2025-02-11 17:29:18.207 +00:00 [INF] Starting the application.
2025-02-11 17:29:18.776 +00:00 [INF] Starting async initialization
2025-02-11 17:29:18.779 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-11 17:29:19.127 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-11 17:29:19.129 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-11 17:29:19.147 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-11 17:29:19.156 +00:00 [INF] Starting async teardown
2025-02-11 17:29:19.157 +00:00 [INF] Async teardown completed
2025-02-11 17:30:11.194 +00:00 [INF] Starting the application.
2025-02-11 17:30:11.822 +00:00 [INF] Starting async initialization
2025-02-11 17:30:11.825 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-11 17:30:12.275 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-11 17:30:12.404 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-11 17:30:12.412 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-11 17:30:12.414 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-11 17:30:12.421 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-11 17:30:12.428 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-11 17:30:12.429 +00:00 [INF] Async initialization completed
2025-02-11 17:30:12.467 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-11 17:30:12.467 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 17:30:12.468 +00:00 [INF] Hosting environment: Development
2025-02-11 17:30:12.469 +00:00 [INF] Content root path: /app
2025-02-11 17:32:12.994 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-11 17:32:13.069 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 76.1846ms
2025-02-11 17:32:13.145 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui.css - null null
2025-02-11 17:32:13.147 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.css - null null
2025-02-11 17:32:13.147 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui-standalone-preset.js - null null
2025-02-11 17:32:13.148 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-11 17:32:13.148 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui-bundle.js - null null
2025-02-11 17:32:13.153 +00:00 [INF] The file /swagger-ui-bundle.js was not modified
2025-02-11 17:32:13.154 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui-bundle.js - 304 null text/javascript 5.8844ms
2025-02-11 17:32:13.156 +00:00 [INF] The file /index.css was not modified
2025-02-11 17:32:13.156 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 8.0962ms
2025-02-11 17:32:13.156 +00:00 [INF] The file /swagger-ui.css was not modified
2025-02-11 17:32:13.157 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.css - 304 null text/css 9.2688ms
2025-02-11 17:32:13.157 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui.css - 304 null text/css 12.5957ms
2025-02-11 17:32:13.163 +00:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2025-02-11 17:32:13.164 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 16.0961ms
2025-02-11 17:32:13.978 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-11 17:32:14.034 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.6225ms
2025-02-11 17:33:44.084 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 257
2025-02-11 17:33:44.088 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-11 17:33:44.090 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-11 17:33:44.111 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-11 17:33:44.194 +00:00 [WRN] Validation Exeption!!!
2025-02-11 17:33:44.199 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 84.424ms
2025-02-11 17:33:44.200 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-11 17:33:44.202 +00:00 [ERR] HTTP POST /api/Products responded 500 in 114.0919 ms
FluentValidation.ValidationException: Validation failed: 
 -- Price: Price must be greater than zero. Severity: Error
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto)
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-11 17:33:44.221 +00:00 [ERR] An unhandled exception occurred.
FluentValidation.ValidationException: Validation failed: 
 -- Price: Price must be greater than zero. Severity: Error
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto)
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at CatalogService.Presentation.Middleware.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context)
2025-02-11 17:33:44.242 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 400 null application/json 158.7495ms
2025-02-11 17:56:58.054 +00:00 [INF] Application is shutting down...
2025-02-11 17:56:58.063 +00:00 [INF] Starting async teardown
2025-02-11 17:56:58.064 +00:00 [INF] Async teardown completed
2025-02-11 18:48:40.739 +00:00 [INF] Starting the application.
2025-02-11 18:48:41.300 +00:00 [INF] Starting async initialization
2025-02-11 18:48:41.302 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-11 18:48:41.628 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-11 18:48:41.630 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-11 18:48:41.649 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-11 18:48:41.658 +00:00 [INF] Starting async teardown
2025-02-11 18:48:41.659 +00:00 [INF] Async teardown completed
2025-02-12 09:20:16.894 +00:00 [INF] Starting the application.
2025-02-12 09:20:17.829 +00:00 [INF] Starting async initialization
2025-02-12 09:20:17.831 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-12 09:20:18.252 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-12 09:20:18.254 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-12 09:20:18.276 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-12 09:20:18.290 +00:00 [INF] Starting async teardown
2025-02-12 09:20:18.290 +00:00 [INF] Async teardown completed
2025-02-12 18:44:37.827 +00:00 [INF] Starting the application.
2025-02-12 18:44:38.793 +00:00 [INF] Starting async initialization
2025-02-12 18:44:38.795 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-12 18:44:39.221 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-12 18:44:39.223 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-12 18:44:39.250 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-12 18:44:39.260 +00:00 [INF] Starting async teardown
2025-02-12 18:44:39.261 +00:00 [INF] Async teardown completed
2025-02-12 18:45:28.490 +00:00 [INF] Starting the application.
2025-02-12 18:45:38.670 +00:00 [INF] Starting the application.
2025-02-12 18:45:39.394 +00:00 [INF] Starting async initialization
2025-02-12 18:45:39.396 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-12 18:45:39.826 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://db:5432'.
2025-02-12 18:45:40.135 +00:00 [INF] Executed DbCommand (164ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "CatalogDb";
2025-02-12 18:45:40.195 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-12 18:45:40.204 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-12 18:45:40.207 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-12 18:45:40.220 +00:00 [INF] Applying migration '20250104124522_InitialCreate'.
2025-02-12 18:45:40.231 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Category" text NOT NULL,
    "Price" numeric NOT NULL,
    "Quantity" integer NOT NULL,
    "CreatedDateUtc" timestamp with time zone NOT NULL,
    "UpdatedDateUtc" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);
2025-02-12 18:45:40.232 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Products_Name" ON "Products" ("Name");
2025-02-12 18:45:40.234 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250104124522_InitialCreate', '9.0.0');
2025-02-12 18:45:40.242 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-12 18:45:40.243 +00:00 [INF] Async initialization completed
2025-02-12 18:45:40.285 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-12 18:45:40.285 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-12 18:45:40.286 +00:00 [INF] Hosting environment: Development
2025-02-12 18:45:40.286 +00:00 [INF] Content root path: /app
2025-02-12 18:47:13.179 +00:00 [INF] Application is shutting down...
2025-02-12 18:47:13.188 +00:00 [INF] Starting async teardown
2025-02-12 18:47:13.188 +00:00 [INF] Async teardown completed
2025-02-12 18:47:49.958 +00:00 [INF] Starting the application.
2025-02-12 18:47:50.721 +00:00 [INF] Starting async initialization
2025-02-12 18:47:50.724 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-12 18:47:51.166 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-12 18:47:51.305 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-12 18:47:51.315 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-12 18:47:51.318 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-12 18:47:51.325 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-12 18:47:51.333 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-12 18:47:51.334 +00:00 [INF] Async initialization completed
2025-02-12 18:47:51.370 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-12 18:47:51.371 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-12 18:47:51.371 +00:00 [INF] Hosting environment: Development
2025-02-12 18:47:51.372 +00:00 [INF] Content root path: /app
2025-02-12 19:59:23.773 +00:00 [INF] Application is shutting down...
2025-02-12 19:59:23.785 +00:00 [INF] Starting async teardown
2025-02-12 19:59:23.785 +00:00 [INF] Async teardown completed
2025-02-14 17:04:00.922 +00:00 [INF] Starting the application.
2025-02-14 17:04:01.718 +00:00 [INF] Starting async initialization
2025-02-14 17:04:01.721 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-14 17:04:02.285 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-14 17:04:02.457 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-14 17:04:02.469 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-14 17:04:02.472 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-14 17:04:02.480 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-14 17:04:02.488 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-14 17:04:02.489 +00:00 [INF] Async initialization completed
2025-02-14 17:04:02.529 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-14 17:04:02.529 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 17:04:02.530 +00:00 [INF] Hosting environment: Development
2025-02-14 17:04:02.530 +00:00 [INF] Content root path: /app
2025-02-14 18:46:24.669 +00:00 [INF] Application is shutting down...
2025-02-14 18:46:24.714 +00:00 [INF] Starting async teardown
2025-02-14 18:46:24.715 +00:00 [INF] Async teardown completed
2025-02-15 11:43:11.875 +00:00 [INF] Starting the application.
2025-02-15 11:43:12.688 +00:00 [INF] Starting async initialization
2025-02-15 11:43:12.690 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 11:43:13.176 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-15 11:43:13.303 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-15 11:43:13.312 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-15 11:43:13.315 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-15 11:43:13.321 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-15 11:43:13.328 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-15 11:43:13.329 +00:00 [INF] Async initialization completed
2025-02-15 11:43:13.363 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-15 11:43:13.364 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 11:43:13.364 +00:00 [INF] Hosting environment: Development
2025-02-15 11:43:13.364 +00:00 [INF] Content root path: /app
2025-02-15 11:43:34.991 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/ - null null
2025-02-15 11:43:35.010 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-15 11:43:35.013 +00:00 [INF] HTTP GET / responded 404 in 2.1784 ms
2025-02-15 11:43:35.016 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/ - 404 0 null 26.2259ms
2025-02-15 11:43:35.018 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8082/, Response status code: 404
2025-02-15 13:51:49.277 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/ - null null
2025-02-15 13:51:49.288 +00:00 [INF] HTTP GET / responded 404 in 0.8385 ms
2025-02-15 13:51:49.290 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/ - 404 0 null 13.0528ms
2025-02-15 13:51:49.291 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8082/, Response status code: 404
2025-02-15 13:52:09.887 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-15 13:52:09.955 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 68.6947ms
2025-02-15 13:52:10.639 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-15 13:52:10.648 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 8.7004ms
2025-02-15 13:52:10.832 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-15 13:52:10.916 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.9351ms
2025-02-15 13:52:30.248 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-15 13:52:30.250 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 2.3654ms
2025-02-15 13:52:30.438 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-15 13:52:30.440 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 1.1099ms
2025-02-15 13:52:30.681 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-15 13:52:30.685 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 3.9788ms
2025-02-15 13:52:46.159 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-15 13:52:46.159 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 0.6272ms
2025-02-15 14:41:55.044 +00:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:8082/api/Products/{id}/quantity - application/json 1
2025-02-15 14:41:55.061 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-15 14:41:55.105 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-15 14:41:55.176 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-15 14:41:55.210 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 102.3627ms
2025-02-15 14:41:55.210 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-15 14:41:55.211 +00:00 [INF] HTTP PATCH /api/Products/{id}/quantity responded 400 in 155.1245 ms
2025-02-15 14:41:55.211 +00:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:8082/api/Products/{id}/quantity - 400 null application/problem+json; charset=utf-8 168.148ms
2025-02-15 14:42:10.785 +00:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:8082/api/Products/{id}/quantity124215 - application/json 1
2025-02-15 14:42:10.786 +00:00 [INF] HTTP PATCH /api/Products/{id}/quantity124215 responded 404 in 0.0513 ms
2025-02-15 14:42:10.786 +00:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:8082/api/Products/{id}/quantity124215 - 404 0 null 1.1412ms
2025-02-15 14:42:10.787 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://localhost:8082/api/Products/%7Bid%7D/quantity124215, Response status code: 404
2025-02-15 14:42:15.004 +00:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:8082/api/Products/{id}/quantity - application/json 1
2025-02-15 14:42:15.004 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-15 14:42:15.005 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-15 14:42:15.009 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-15 14:42:15.009 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 3.8336ms
2025-02-15 14:42:15.010 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-15 14:42:15.010 +00:00 [INF] HTTP PATCH /api/Products/{id}/quantity responded 400 in 5.7332 ms
2025-02-15 14:42:15.010 +00:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:8082/api/Products/{id}/quantity - 400 null application/problem+json; charset=utf-8 6.6677ms
2025-02-15 14:43:10.532 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/api/Products/{id}/quantity - null null
2025-02-15 14:43:10.533 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-15 14:43:10.534 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-15 14:43:10.534 +00:00 [INF] HTTP GET /api/Products/{id}/quantity responded 405 in 1.1413 ms
2025-02-15 14:43:10.535 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/api/Products/{id}/quantity - 405 0 null 3.3201ms
2025-02-15 14:43:43.799 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-15 14:43:43.801 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 2.537ms
2025-02-15 14:43:43.915 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-15 14:43:43.917 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 1.0582ms
2025-02-15 14:43:44.027 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-15 14:43:44.035 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.9209ms
2025-02-15 14:44:07.753 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 253
2025-02-15 14:44:07.754 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 14:44:07.759 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-15 14:44:08.043 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:44:08.068 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CatalogService.Infrastructure.ConfigurationDB.CatalogContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-15 14:44:08.074 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 314.8285ms
2025-02-15 14:44:08.075 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 14:44:08.076 +00:00 [ERR] HTTP POST /api/Products responded 500 in 321.8553 ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.Repositories.CatalogRepository.IsProductUniqueAsync(String name) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\Repositories\CatalogRepository.cs:line 34
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 20
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-15 14:44:08.098 +00:00 [ERR] An unhandled exception occurred.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.Repositories.CatalogRepository.IsProductUniqueAsync(String name) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\Repositories\CatalogRepository.cs:line 34
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 20
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at CatalogService.Presentation.Middleware.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Middleware\ExceptionHandlerMiddleware.cs:line 23
2025-02-15 14:44:08.109 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 500 null application/json 356.0851ms
2025-02-15 14:44:44.881 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 253
2025-02-15 14:44:44.882 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 14:44:44.882 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-15 14:44:44.919 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:44:44.921 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CatalogService.Infrastructure.ConfigurationDB.CatalogContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-15 14:44:44.926 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 42.8891ms
2025-02-15 14:44:44.926 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 14:44:44.927 +00:00 [ERR] HTTP POST /api/Products responded 500 in 45.0740 ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.Repositories.CatalogRepository.IsProductUniqueAsync(String name) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\Repositories\CatalogRepository.cs:line 34
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 20
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-15 14:44:44.932 +00:00 [ERR] An unhandled exception occurred.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.Repositories.CatalogRepository.IsProductUniqueAsync(String name) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\Repositories\CatalogRepository.cs:line 34
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 20
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at CatalogService.Presentation.Middleware.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Middleware\ExceptionHandlerMiddleware.cs:line 23
2025-02-15 14:44:44.937 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 500 null application/json 55.7717ms
2025-02-15 14:44:55.114 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 250
2025-02-15 14:44:55.115 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 14:44:55.115 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-15 14:44:55.118 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:44:55.120 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CatalogService.Infrastructure.ConfigurationDB.CatalogContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-15 14:44:55.123 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 7.6059ms
2025-02-15 14:44:55.123 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 14:44:55.124 +00:00 [ERR] HTTP POST /api/Products responded 500 in 9.0214 ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.Repositories.CatalogRepository.IsProductUniqueAsync(String name) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\Repositories\CatalogRepository.cs:line 34
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 20
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-15 14:44:55.127 +00:00 [ERR] An unhandled exception occurred.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.Repositories.CatalogRepository.IsProductUniqueAsync(String name) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\Repositories\CatalogRepository.cs:line 34
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 20
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at CatalogService.Presentation.Middleware.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Middleware\ExceptionHandlerMiddleware.cs:line 23
2025-02-15 14:44:55.132 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 500 null application/json 18.0379ms
2025-02-15 14:46:01.891 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 250
2025-02-15 14:46:01.892 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 14:46:01.892 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-15 14:46:01.939 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:46:01.942 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CatalogService.Infrastructure.ConfigurationDB.CatalogContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-15 14:46:01.945 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 52.212ms
2025-02-15 14:46:01.945 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 14:46:01.946 +00:00 [ERR] HTTP POST /api/Products responded 500 in 54.1862 ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.Repositories.CatalogRepository.IsProductUniqueAsync(String name) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\Repositories\CatalogRepository.cs:line 34
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 20
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-15 14:46:01.949 +00:00 [ERR] An unhandled exception occurred.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.Repositories.CatalogRepository.IsProductUniqueAsync(String name) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\Repositories\CatalogRepository.cs:line 34
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 20
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at CatalogService.Presentation.Middleware.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Middleware\ExceptionHandlerMiddleware.cs:line 23
2025-02-15 14:46:01.954 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 500 null application/json 62.5835ms
2025-02-15 14:49:22.048 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-15 14:49:22.049 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 1.4763ms
2025-02-15 14:49:22.153 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-15 14:49:22.153 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 0.6892ms
2025-02-15 14:49:22.264 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-15 14:49:22.267 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2.4848ms
2025-02-15 14:49:31.067 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 250
2025-02-15 14:49:31.067 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 14:49:31.068 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-15 14:49:31.120 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:49:31.123 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CatalogService.Infrastructure.ConfigurationDB.CatalogContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-15 14:49:31.127 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 58.7188ms
2025-02-15 14:49:31.127 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 14:49:31.128 +00:00 [ERR] HTTP POST /api/Products responded 500 in 60.5372 ms
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.Repositories.CatalogRepository.IsProductUniqueAsync(String name) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\Repositories\CatalogRepository.cs:line 34
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 20
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-15 14:49:31.131 +00:00 [ERR] An unhandled exception occurred.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.Repositories.CatalogRepository.IsProductUniqueAsync(String name) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\Repositories\CatalogRepository.cs:line 34
   at CatalogService.Application.Services.ProductService.CreateProductAsync(ProductDTO productDto) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 20
   at CatalogService.Presentation.Controllers.ProductsController.CreateProduct(ProductDTO product) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at CatalogService.Presentation.Middleware.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Middleware\ExceptionHandlerMiddleware.cs:line 23
2025-02-15 14:49:31.135 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 500 null application/json 68.0868ms
2025-02-15 14:50:59.918 +00:00 [INF] Application is shutting down...
2025-02-15 14:50:59.927 +00:00 [INF] Starting async teardown
2025-02-15 14:50:59.927 +00:00 [INF] Async teardown completed
2025-02-15 14:51:01.022 +00:00 [INF] Starting the application.
2025-02-15 14:51:01.649 +00:00 [INF] Starting async initialization
2025-02-15 14:51:01.652 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:51:02.025 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:51:02.028 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:51:02.047 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:51:02.057 +00:00 [INF] Starting async teardown
2025-02-15 14:51:02.057 +00:00 [INF] Async teardown completed
2025-02-15 14:51:15.117 +00:00 [INF] Starting the application.
2025-02-15 14:51:15.723 +00:00 [INF] Starting async initialization
2025-02-15 14:51:15.726 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:51:16.086 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:51:16.088 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:51:16.109 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:51:16.121 +00:00 [INF] Starting async teardown
2025-02-15 14:51:16.122 +00:00 [INF] Async teardown completed
2025-02-15 14:51:41.980 +00:00 [INF] Starting the application.
2025-02-15 14:51:42.553 +00:00 [INF] Starting async initialization
2025-02-15 14:51:42.555 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:51:42.917 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:51:42.919 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:51:42.939 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:51:42.952 +00:00 [INF] Starting async teardown
2025-02-15 14:51:42.952 +00:00 [INF] Async teardown completed
2025-02-15 14:52:48.735 +00:00 [INF] Starting the application.
2025-02-15 14:52:49.328 +00:00 [INF] Starting async initialization
2025-02-15 14:52:49.330 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:52:49.650 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:52:49.651 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:52:49.670 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:52:49.679 +00:00 [INF] Starting async teardown
2025-02-15 14:52:49.680 +00:00 [INF] Async teardown completed
2025-02-15 14:53:00.697 +00:00 [INF] Starting the application.
2025-02-15 14:53:01.272 +00:00 [INF] Starting async initialization
2025-02-15 14:53:01.274 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:53:01.611 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:53:01.613 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:53:01.634 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:53:01.644 +00:00 [INF] Starting async teardown
2025-02-15 14:53:01.644 +00:00 [INF] Async teardown completed
2025-02-15 14:53:12.243 +00:00 [INF] Starting the application.
2025-02-15 14:53:12.784 +00:00 [INF] Starting async initialization
2025-02-15 14:53:12.787 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:53:13.108 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:53:13.110 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:53:13.127 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:53:13.137 +00:00 [INF] Starting async teardown
2025-02-15 14:53:13.138 +00:00 [INF] Async teardown completed
2025-02-15 14:55:01.960 +00:00 [INF] Starting the application.
2025-02-15 14:55:02.501 +00:00 [INF] Starting async initialization
2025-02-15 14:55:02.503 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:55:02.823 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://localhost:5432'.
2025-02-15 14:55:02.825 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:55:02.842 +00:00 [ERR] Async initialization failed
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:55:02.852 +00:00 [INF] Starting async teardown
2025-02-15 14:55:02.853 +00:00 [INF] Async teardown completed
2025-02-15 14:55:17.300 +00:00 [INF] Starting the application.
2025-02-15 14:55:17.908 +00:00 [INF] Starting async initialization
2025-02-15 14:55:17.911 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:55:18.312 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-15 14:55:18.442 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-15 14:55:18.451 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-15 14:55:18.452 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-15 14:55:18.458 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-15 14:55:18.475 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-15 14:55:18.475 +00:00 [INF] Async initialization completed
2025-02-15 14:55:18.510 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-15 14:55:18.511 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 14:55:18.511 +00:00 [INF] Hosting environment: Development
2025-02-15 14:55:18.511 +00:00 [INF] Content root path: /app
2025-02-15 14:55:48.298 +00:00 [INF] Application is shutting down...
2025-02-15 14:55:48.306 +00:00 [INF] Starting async teardown
2025-02-15 14:55:48.306 +00:00 [INF] Async teardown completed
2025-02-15 14:55:53.921 +00:00 [INF] Starting the application.
2025-02-15 14:55:54.466 +00:00 [INF] Starting async initialization
2025-02-15 14:55:54.468 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:55:54.830 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-15 14:55:54.949 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-15 14:55:54.959 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-15 14:55:54.961 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-15 14:55:54.967 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-15 14:55:54.976 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-15 14:55:54.977 +00:00 [INF] Async initialization completed
2025-02-15 14:55:55.008 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-15 14:55:55.008 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 14:55:55.009 +00:00 [INF] Hosting environment: Development
2025-02-15 14:55:55.009 +00:00 [INF] Content root path: /app
2025-02-15 14:56:07.491 +00:00 [INF] Application is shutting down...
2025-02-15 14:56:07.499 +00:00 [INF] Starting async teardown
2025-02-15 14:56:07.500 +00:00 [INF] Async teardown completed
2025-02-15 14:56:15.709 +00:00 [INF] Starting the application.
2025-02-15 14:56:16.210 +00:00 [INF] Starting async initialization
2025-02-15 14:56:16.212 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:56:24.530 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://12asf:5432'.
2025-02-15 14:56:24.532 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
System.Net.Sockets.SocketException (00000001, 11): Resource temporarily unavailable
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 startingTimestamp)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, Int64 startingTimestamp)
   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:56:24.554 +00:00 [ERR] Async initialization failed
System.Net.Sockets.SocketException (00000001, 11): Resource temporarily unavailable
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 startingTimestamp)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, Int64 startingTimestamp)
   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:56:24.562 +00:00 [INF] Starting async teardown
2025-02-15 14:56:24.563 +00:00 [INF] Async teardown completed
2025-02-15 14:56:32.894 +00:00 [INF] Starting the application.
2025-02-15 14:56:33.423 +00:00 [INF] Starting async initialization
2025-02-15 14:56:33.425 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:56:41.740 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://12asf:5432'.
2025-02-15 14:56:41.742 +00:00 [ERR] Async initialization for CatalogService.Infrastructure.DbInitializer failed
System.Net.Sockets.SocketException (00000001, 11): Resource temporarily unavailable
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 startingTimestamp)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, Int64 startingTimestamp)
   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:56:41.762 +00:00 [ERR] Async initialization failed
System.Net.Sockets.SocketException (00000001, 11): Resource temporarily unavailable
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 startingTimestamp)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, Int64 startingTimestamp)
   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at CatalogService.Infrastructure.DbInitializer.InitializeAsync(CancellationToken cancellationToken) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Infrastructure\DbInitializer.cs:line 11
   at Extensions.Hosting.AsyncInitialization.RootInitializer.InitializeAsync(CancellationToken cancellationToken)
2025-02-15 14:56:41.770 +00:00 [INF] Starting async teardown
2025-02-15 14:56:41.770 +00:00 [INF] Async teardown completed
2025-02-15 14:57:00.079 +00:00 [INF] Starting the application.
2025-02-15 14:57:00.596 +00:00 [INF] Starting async initialization
2025-02-15 14:57:00.598 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-15 14:57:00.965 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-15 14:57:01.086 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-15 14:57:01.094 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-15 14:57:01.096 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-15 14:57:01.102 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-15 14:57:01.114 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-15 14:57:01.114 +00:00 [INF] Async initialization completed
2025-02-15 14:57:01.146 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-15 14:57:01.146 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-15 14:57:01.146 +00:00 [INF] Hosting environment: Development
2025-02-15 14:57:01.147 +00:00 [INF] Content root path: /app
2025-02-15 15:24:19.670 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-15 15:24:19.751 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 82.1914ms
2025-02-15 15:24:19.869 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-15 15:24:19.880 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/favicon-32x32.png - null null
2025-02-15 15:24:19.895 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-02-15 15:24:19.895 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/favicon-32x32.png - 200 628 image/png 15.2948ms
2025-02-15 15:24:19.928 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.8923ms
2025-02-15 15:24:29.229 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 250
2025-02-15 15:24:29.233 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-15 15:24:29.235 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 15:24:29.250 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-15 15:24:29.479 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS p
    WHERE p."Name" = @__name_0)
2025-02-15 15:24:29.574 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Category", "CreatedDateUtc", "Description", "Name", "Price", "Quantity", "UpdatedDateUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-15 15:24:29.582 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-15 15:24:29.594 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 341.8621ms
2025-02-15 15:24:29.595 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-15 15:24:29.597 +00:00 [INF] HTTP POST /api/Products responded 200 in 364.4347 ms
2025-02-15 15:24:29.599 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 200 null application/json; charset=utf-8 370.1466ms
2025-02-15 19:10:58.877 +00:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:8082/api/Products/{id}/quantity - application/json 1
2025-02-15 19:10:58.889 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-15 19:10:58.916 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-15 19:10:58.942 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-15 19:10:58.975 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 58.6667ms
2025-02-15 19:10:58.976 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-15 19:10:58.977 +00:00 [INF] HTTP PATCH /api/Products/{id}/quantity responded 400 in 90.7935 ms
2025-02-15 19:10:58.978 +00:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:8082/api/Products/{id}/quantity - 400 null application/problem+json; charset=utf-8 103.3044ms
2025-02-15 19:12:20.902 +00:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json 1
2025-02-15 19:12:20.903 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-15 19:12:20.904 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-15 19:12:21.028 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-15 19:12:21.054 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-15 19:12:21.058 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-15 19:12:21.059 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-15 19:12:21.060 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 155.3089ms
2025-02-15 19:12:21.060 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-15 19:12:21.061 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 157.7905 ms
2025-02-15 19:12:21.061 +00:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 159.3936ms
2025-02-15 20:16:49.584 +00:00 [INF] Application is shutting down...
2025-02-15 20:16:49.612 +00:00 [INF] Starting async teardown
2025-02-15 20:16:49.613 +00:00 [INF] Async teardown completed
2025-02-16 10:14:01.749 +00:00 [INF] Starting the application.
2025-02-16 10:14:02.483 +00:00 [INF] Starting async initialization
2025-02-16 10:14:02.486 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-16 10:14:02.934 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 10:14:03.054 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-16 10:14:03.062 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-16 10:14:03.064 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 10:14:03.070 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-16 10:14:03.077 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-16 10:14:03.077 +00:00 [INF] Async initialization completed
2025-02-16 10:14:03.109 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-16 10:14:03.109 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-16 10:14:03.109 +00:00 [INF] Hosting environment: Development
2025-02-16 10:14:03.110 +00:00 [INF] Content root path: /app
2025-02-16 12:20:23.191 +00:00 [INF] Application is shutting down...
2025-02-16 12:20:23.253 +00:00 [INF] Starting async teardown
2025-02-16 12:20:23.254 +00:00 [INF] Async teardown completed
2025-02-16 12:49:53.572 +00:00 [INF] Starting the application.
2025-02-16 12:49:54.271 +00:00 [INF] Starting async initialization
2025-02-16 12:49:54.275 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-16 12:49:54.729 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 12:49:54.900 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-16 12:49:54.910 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-16 12:49:54.913 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 12:49:54.919 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-16 12:49:54.927 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-16 12:49:54.928 +00:00 [INF] Async initialization completed
2025-02-16 12:49:54.967 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-16 12:49:54.968 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-16 12:49:54.968 +00:00 [INF] Hosting environment: Development
2025-02-16 12:49:54.968 +00:00 [INF] Content root path: /app
2025-02-16 13:25:48.969 +00:00 [INF] Application is shutting down...
2025-02-16 13:25:48.980 +00:00 [INF] Starting async teardown
2025-02-16 13:25:48.981 +00:00 [INF] Async teardown completed
2025-02-16 13:26:06.138 +00:00 [INF] Starting the application.
2025-02-16 13:26:06.862 +00:00 [INF] Starting async initialization
2025-02-16 13:26:06.864 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-16 13:26:07.262 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:26:07.401 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-16 13:26:07.410 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-16 13:26:07.412 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:26:07.419 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-16 13:26:07.429 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-16 13:26:07.430 +00:00 [INF] Async initialization completed
2025-02-16 13:26:07.462 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-16 13:26:07.462 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-16 13:26:07.463 +00:00 [INF] Hosting environment: Development
2025-02-16 13:26:07.464 +00:00 [INF] Content root path: /app
2025-02-16 13:26:29.466 +00:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-16 13:26:29.485 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-16 13:26:29.487 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-16 13:26:29.502 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-16 13:26:29.733 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-16 13:26:29.773 +00:00 [WRN] The quantity of the updateProduct is insufficient.
2025-02-16 13:26:29.778 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 272.632ms
2025-02-16 13:26:29.779 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-16 13:26:29.781 +00:00 [ERR] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 500 in 295.9155 ms
CatalogService.Application.Exceptions.QuantityException: Insufficient quantity.
   at CatalogService.Application.Services.ProductService.UpdateQuantityProductAsync(Guid id, Int32 quantity) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 93
   at CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity(Guid id, Int32 quantity) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-16 13:26:29.799 +00:00 [ERR] An unhandled exception occurred.
CatalogService.Application.Exceptions.QuantityException: Insufficient quantity.
   at CatalogService.Application.Services.ProductService.UpdateQuantityProductAsync(Guid id, Int32 quantity) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 93
   at CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity(Guid id, Int32 quantity) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at CatalogService.Presentation.Middleware.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Middleware\ExceptionHandlerMiddleware.cs:line 23
2025-02-16 13:26:29.821 +00:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 400 null application/json 356.21ms
2025-02-16 13:26:40.233 +00:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-16 13:26:40.234 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-16 13:26:40.235 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-16 13:26:40.273 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-16 13:26:40.320 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-16 13:26:40.326 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-16 13:26:40.330 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-16 13:26:40.347 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 111.9427ms
2025-02-16 13:26:40.348 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-16 13:26:40.348 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 113.7191 ms
2025-02-16 13:26:40.349 +00:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 115.7735ms
2025-02-16 13:27:40.487 +00:00 [INF] Application is shutting down...
2025-02-16 13:27:40.496 +00:00 [INF] Starting async teardown
2025-02-16 13:27:40.497 +00:00 [INF] Async teardown completed
2025-02-16 13:28:31.430 +00:00 [INF] Starting the application.
2025-02-16 13:28:32.086 +00:00 [INF] Starting async initialization
2025-02-16 13:28:32.089 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-16 13:28:32.496 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:28:32.625 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-16 13:28:32.634 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-16 13:28:32.636 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:28:32.643 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-16 13:28:32.653 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-16 13:28:32.654 +00:00 [INF] Async initialization completed
2025-02-16 13:28:32.688 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-16 13:28:32.689 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-16 13:28:32.689 +00:00 [INF] Hosting environment: Development
2025-02-16 13:28:32.690 +00:00 [INF] Content root path: /app
2025-02-16 13:29:53.478 +00:00 [INF] Application is shutting down...
2025-02-16 13:29:53.486 +00:00 [INF] Starting async teardown
2025-02-16 13:29:53.486 +00:00 [INF] Async teardown completed
2025-02-16 13:30:10.759 +00:00 [INF] Starting the application.
2025-02-16 13:30:11.491 +00:00 [INF] Starting async initialization
2025-02-16 13:30:11.495 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-16 13:30:11.873 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://db:5432'.
2025-02-16 13:30:12.117 +00:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "CatalogDb";
2025-02-16 13:30:12.172 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-16 13:30:12.181 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-16 13:30:12.185 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:30:12.197 +00:00 [INF] Applying migration '20250104124522_InitialCreate'.
2025-02-16 13:30:12.205 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Category" text NOT NULL,
    "Price" numeric NOT NULL,
    "Quantity" integer NOT NULL,
    "CreatedDateUtc" timestamp with time zone NOT NULL,
    "UpdatedDateUtc" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);
2025-02-16 13:30:12.207 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Products_Name" ON "Products" ("Name");
2025-02-16 13:30:12.207 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250104124522_InitialCreate', '9.0.0');
2025-02-16 13:30:12.217 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-16 13:30:12.217 +00:00 [INF] Async initialization completed
2025-02-16 13:30:12.247 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-16 13:30:12.248 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-16 13:30:12.248 +00:00 [INF] Hosting environment: Development
2025-02-16 13:30:12.249 +00:00 [INF] Content root path: /app
2025-02-16 13:30:43.448 +00:00 [INF] Application is shutting down...
2025-02-16 13:30:43.456 +00:00 [INF] Starting async teardown
2025-02-16 13:30:43.456 +00:00 [INF] Async teardown completed
2025-02-16 13:31:02.958 +00:00 [INF] Starting the application.
2025-02-16 13:31:03.569 +00:00 [INF] Starting async initialization
2025-02-16 13:31:03.571 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-16 13:31:03.916 +00:00 [ERR] An error occurred using the connection to database 'CatalogDb' on server 'tcp://db:5432'.
2025-02-16 13:31:04.068 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "CatalogDb";
2025-02-16 13:31:04.120 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-16 13:31:04.129 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-16 13:31:04.133 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:31:04.144 +00:00 [INF] Applying migration '20250104124522_InitialCreate'.
2025-02-16 13:31:04.152 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Category" text NOT NULL,
    "Price" numeric NOT NULL,
    "Quantity" integer NOT NULL,
    "CreatedDateUtc" timestamp with time zone NOT NULL,
    "UpdatedDateUtc" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);
2025-02-16 13:31:04.153 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Products_Name" ON "Products" ("Name");
2025-02-16 13:31:04.154 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250104124522_InitialCreate', '9.0.0');
2025-02-16 13:31:04.163 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-16 13:31:04.163 +00:00 [INF] Async initialization completed
2025-02-16 13:31:04.196 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-16 13:31:04.196 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-16 13:31:04.197 +00:00 [INF] Hosting environment: Development
2025-02-16 13:31:04.197 +00:00 [INF] Content root path: /app
2025-02-16 13:31:12.662 +00:00 [INF] Application is shutting down...
2025-02-16 13:31:12.670 +00:00 [INF] Starting async teardown
2025-02-16 13:31:12.670 +00:00 [INF] Async teardown completed
2025-02-16 13:31:29.675 +00:00 [INF] Starting the application.
2025-02-16 13:31:30.288 +00:00 [INF] Starting async initialization
2025-02-16 13:31:30.290 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-16 13:31:30.671 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:31:30.791 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-16 13:31:30.800 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-16 13:31:30.802 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:31:30.809 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-16 13:31:30.819 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-16 13:31:30.819 +00:00 [INF] Async initialization completed
2025-02-16 13:31:30.849 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-16 13:31:30.850 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-16 13:31:30.851 +00:00 [INF] Hosting environment: Development
2025-02-16 13:31:30.851 +00:00 [INF] Content root path: /app
2025-02-16 13:40:20.331 +00:00 [INF] Application is shutting down...
2025-02-16 13:40:20.340 +00:00 [INF] Starting async teardown
2025-02-16 13:40:20.341 +00:00 [INF] Async teardown completed
2025-02-16 13:40:33.955 +00:00 [INF] Starting the application.
2025-02-16 13:40:34.618 +00:00 [INF] Starting async initialization
2025-02-16 13:40:34.620 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-16 13:40:34.993 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:40:35.116 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-16 13:40:35.125 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-16 13:40:35.127 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:40:35.134 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-16 13:40:35.144 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-16 13:40:35.145 +00:00 [INF] Async initialization completed
2025-02-16 13:40:35.177 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-16 13:40:35.178 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-16 13:40:35.178 +00:00 [INF] Hosting environment: Development
2025-02-16 13:40:35.178 +00:00 [INF] Content root path: /app
2025-02-16 13:41:51.810 +00:00 [INF] Application is shutting down...
2025-02-16 13:41:51.820 +00:00 [INF] Starting async teardown
2025-02-16 13:41:51.821 +00:00 [INF] Async teardown completed
2025-02-16 13:42:05.932 +00:00 [INF] Starting the application.
2025-02-16 13:42:06.631 +00:00 [INF] Starting async initialization
2025-02-16 13:42:06.633 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-16 13:42:07.046 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:42:07.179 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-16 13:42:07.189 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-16 13:42:07.191 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-16 13:42:07.198 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-16 13:42:07.206 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-16 13:42:07.206 +00:00 [INF] Async initialization completed
2025-02-16 13:42:07.242 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-16 13:42:07.243 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-16 13:42:07.243 +00:00 [INF] Hosting environment: Development
2025-02-16 13:42:07.243 +00:00 [INF] Content root path: /app
2025-02-16 14:45:49.651 +00:00 [INF] Application is shutting down...
2025-02-16 14:45:49.661 +00:00 [INF] Starting async teardown
2025-02-16 14:45:49.661 +00:00 [INF] Async teardown completed
2025-02-17 09:06:53.495 +00:00 [INF] Starting the application.
2025-02-17 09:06:54.461 +00:00 [INF] Starting async initialization
2025-02-17 09:06:54.463 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-17 09:06:54.943 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 09:06:55.120 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-17 09:06:55.129 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-17 09:06:55.132 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 09:06:55.139 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-17 09:06:55.153 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-17 09:06:55.154 +00:00 [INF] Async initialization completed
2025-02-17 09:06:55.197 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-17 09:06:55.198 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-17 09:06:55.198 +00:00 [INF] Hosting environment: Development
2025-02-17 09:06:55.199 +00:00 [INF] Content root path: /app
2025-02-17 09:29:57.026 +00:00 [INF] Application is shutting down...
2025-02-17 09:29:57.036 +00:00 [INF] Starting async teardown
2025-02-17 09:29:57.036 +00:00 [INF] Async teardown completed
2025-02-17 09:31:28.251 +00:00 [INF] Starting the application.
2025-02-17 09:31:29.004 +00:00 [INF] Starting async initialization
2025-02-17 09:31:29.006 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-17 09:31:29.493 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 09:31:29.639 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-17 09:31:29.654 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-17 09:31:29.657 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 09:31:29.664 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-17 09:31:29.675 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-17 09:31:29.675 +00:00 [INF] Async initialization completed
2025-02-17 09:31:29.722 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-17 09:31:29.723 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-17 09:31:29.723 +00:00 [INF] Hosting environment: Development
2025-02-17 09:31:29.724 +00:00 [INF] Content root path: /app
2025-02-17 09:31:56.254 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-17 09:31:56.322 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 68.7894ms
2025-02-17 09:31:56.973 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-17 09:31:56.987 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 13.7579ms
2025-02-17 09:31:57.117 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-17 09:31:57.167 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.3842ms
2025-02-17 09:32:06.278 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 252
2025-02-17 09:32:06.281 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-17 09:32:06.283 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-17 09:32:06.298 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 09:32:06.543 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS p
    WHERE p."Name" = @__name_0)
2025-02-17 09:32:06.646 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Category", "CreatedDateUtc", "Description", "Name", "Price", "Quantity", "UpdatedDateUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-17 09:32:06.657 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 09:32:06.668 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 366.9932ms
2025-02-17 09:32:06.669 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-17 09:32:06.671 +00:00 [INF] HTTP POST /api/Products responded 200 in 389.2948 ms
2025-02-17 09:32:06.674 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 200 null application/json; charset=utf-8 395.8458ms
2025-02-17 09:33:17.512 +00:00 [INF] Application is shutting down...
2025-02-17 09:33:17.528 +00:00 [INF] Starting async teardown
2025-02-17 09:33:17.529 +00:00 [INF] Async teardown completed
2025-02-17 09:33:24.351 +00:00 [INF] Starting the application.
2025-02-17 09:33:25.054 +00:00 [INF] Starting async initialization
2025-02-17 09:33:25.056 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-17 09:33:25.471 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 09:33:25.603 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-17 09:33:25.613 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-17 09:33:25.616 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 09:33:25.622 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-17 09:33:25.629 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-17 09:33:25.630 +00:00 [INF] Async initialization completed
2025-02-17 09:33:25.664 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-17 09:33:25.664 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-17 09:33:25.664 +00:00 [INF] Hosting environment: Development
2025-02-17 09:33:25.665 +00:00 [INF] Content root path: /app
2025-02-17 09:33:56.390 +00:00 [INF] Application is shutting down...
2025-02-17 09:33:56.399 +00:00 [INF] Starting async teardown
2025-02-17 09:33:56.400 +00:00 [INF] Async teardown completed
2025-02-17 09:34:01.364 +00:00 [INF] Starting the application.
2025-02-17 09:34:02.025 +00:00 [INF] Starting async initialization
2025-02-17 09:34:02.027 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-17 09:34:02.459 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 09:34:02.611 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-17 09:34:02.623 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-17 09:34:02.627 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 09:34:02.633 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-17 09:34:02.644 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-17 09:34:02.645 +00:00 [INF] Async initialization completed
2025-02-17 09:34:02.684 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-17 09:34:02.684 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-17 09:34:02.684 +00:00 [INF] Hosting environment: Development
2025-02-17 09:34:02.685 +00:00 [INF] Content root path: /app
2025-02-17 09:34:20.118 +00:00 [INF] Application is shutting down...
2025-02-17 09:34:20.126 +00:00 [INF] Starting async teardown
2025-02-17 09:34:20.127 +00:00 [INF] Async teardown completed
2025-02-17 09:34:27.448 +00:00 [INF] Starting the application.
2025-02-17 09:34:28.145 +00:00 [INF] Starting async initialization
2025-02-17 09:34:28.148 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-17 09:34:28.584 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 09:34:28.725 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-17 09:34:28.735 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-17 09:34:28.737 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 09:34:28.744 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-17 09:34:28.753 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-17 09:34:28.753 +00:00 [INF] Async initialization completed
2025-02-17 09:34:28.788 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-17 09:34:28.788 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-17 09:34:28.789 +00:00 [INF] Hosting environment: Development
2025-02-17 09:34:28.789 +00:00 [INF] Content root path: /app
2025-02-17 09:35:11.642 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-17 09:35:11.661 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-17 09:35:11.663 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-17 09:35:11.677 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 09:35:11.892 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 09:35:11.980 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-17 09:35:11.987 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 09:35:11.992 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 09:35:12.022 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 341.5096ms
2025-02-17 09:35:12.022 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-17 09:35:12.024 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 363.2610 ms
2025-02-17 09:35:12.027 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 386.4818ms
2025-02-17 09:48:46.787 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-17 09:48:46.829 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 41.6405ms
2025-02-17 09:48:46.988 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-17 09:48:46.998 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 9.6357ms
2025-02-17 09:48:47.097 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-17 09:48:47.146 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.1099ms
2025-02-17 09:50:09.603 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 255
2025-02-17 09:50:09.604 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-17 09:50:09.609 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 09:50:09.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS p
    WHERE p."Name" = @__name_0)
2025-02-17 09:50:09.716 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Category", "CreatedDateUtc", "Description", "Name", "Price", "Quantity", "UpdatedDateUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-17 09:50:09.718 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 09:50:09.719 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 109.4347ms
2025-02-17 09:50:09.719 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-17 09:50:09.719 +00:00 [INF] HTTP POST /api/Products responded 200 in 115.7716 ms
2025-02-17 09:50:09.720 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 200 null application/json; charset=utf-8 117.3391ms
2025-02-17 09:50:17.804 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 255
2025-02-17 09:50:17.805 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-17 09:50:17.806 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 09:50:17.812 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS p
    WHERE p."Name" = @__name_0)
2025-02-17 09:50:17.817 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Category", "CreatedDateUtc", "Description", "Name", "Price", "Quantity", "UpdatedDateUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-17 09:50:17.818 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 09:50:17.819 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 12.099ms
2025-02-17 09:50:17.819 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-17 09:50:17.819 +00:00 [INF] HTTP POST /api/Products responded 200 in 13.8928 ms
2025-02-17 09:50:17.820 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 200 null application/json; charset=utf-8 15.1895ms
2025-02-17 09:50:22.891 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8082/api/Products - application/json 255
2025-02-17 09:50:22.892 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-17 09:50:22.892 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(CatalogService.Application.DTOs.ProductDTO) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 09:50:22.936 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS p
    WHERE p."Name" = @__name_0)
2025-02-17 09:50:22.939 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Category", "CreatedDateUtc", "Description", "Name", "Price", "Quantity", "UpdatedDateUtc")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-17 09:50:22.939 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 09:50:22.940 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation) in 47.2463ms
2025-02-17 09:50:22.940 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.CreateProduct (CatalogService.Presentation)'
2025-02-17 09:50:22.940 +00:00 [INF] HTTP POST /api/Products responded 200 in 48.6164 ms
2025-02-17 09:50:22.941 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8082/api/Products - 200 null application/json; charset=utf-8 49.9115ms
2025-02-17 09:52:50.691 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa2/quantity - application/json; charset=utf-8 null
2025-02-17 09:52:50.691 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-17 09:52:50.692 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 09:52:50.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 09:52:50.698 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-17 09:52:50.699 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 09:52:50.699 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 09:52:50.700 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 7.8484ms
2025-02-17 09:52:50.700 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-17 09:52:50.701 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa2/quantity responded 200 in 9.5887 ms
2025-02-17 09:52:50.701 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa2/quantity - 200 null application/json; charset=utf-8 10.7751ms
2025-02-17 09:52:50.703 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa1/quantity - application/json; charset=utf-8 null
2025-02-17 09:52:50.704 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-17 09:52:50.704 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 09:52:50.706 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 09:52:50.708 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-17 09:52:50.709 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 09:52:50.710 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 09:52:50.710 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 5.7243ms
2025-02-17 09:52:50.710 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-17 09:52:50.711 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa1/quantity responded 200 in 6.9185 ms
2025-02-17 09:52:50.711 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa1/quantity - 200 null application/json; charset=utf-8 7.73ms
2025-02-17 12:04:44.234 +00:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - application/json 1
2025-02-17 12:04:44.242 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-17 12:04:44.245 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-17 12:04:44.246 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 405 in 4.5846 ms
2025-02-17 12:04:44.248 +00:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 405 0 null 15.2479ms
2025-02-17 12:04:54.657 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - application/json 1
2025-02-17 12:04:54.659 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-17 12:04:54.680 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 12:04:54.718 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 12:04:54.723 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 12:04:54.725 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 43.9616ms
2025-02-17 12:04:54.725 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-17 12:04:54.726 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 66.6383 ms
2025-02-17 12:04:54.726 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 69.7207ms
2025-02-17 12:08:00.595 +00:00 [INF] Application is shutting down...
2025-02-17 12:08:00.611 +00:00 [INF] Starting async teardown
2025-02-17 12:08:00.613 +00:00 [INF] Async teardown completed
2025-02-17 12:08:09.887 +00:00 [INF] Starting the application.
2025-02-17 12:08:10.603 +00:00 [INF] Starting async initialization
2025-02-17 12:08:10.606 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-17 12:08:11.129 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 12:08:11.285 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-17 12:08:11.300 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-17 12:08:11.302 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 12:08:11.310 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-17 12:08:11.320 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-17 12:08:11.321 +00:00 [INF] Async initialization completed
2025-02-17 12:08:11.364 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-17 12:08:11.364 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-17 12:08:11.365 +00:00 [INF] Hosting environment: Development
2025-02-17 12:08:11.365 +00:00 [INF] Content root path: /app
2025-02-17 12:08:17.311 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-17 12:08:17.389 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 78.537ms
2025-02-17 12:08:17.417 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-17 12:08:17.425 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 7.849ms
2025-02-17 12:08:17.561 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-17 12:08:17.631 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.4519ms
2025-02-17 12:08:27.445 +00:00 [INF] Application is shutting down...
2025-02-17 12:08:27.458 +00:00 [INF] Starting async teardown
2025-02-17 12:08:27.459 +00:00 [INF] Async teardown completed
2025-02-17 12:08:35.858 +00:00 [INF] Starting the application.
2025-02-17 12:08:36.564 +00:00 [INF] Starting async initialization
2025-02-17 12:08:36.566 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-17 12:08:37.007 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 12:08:37.140 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-17 12:08:37.150 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-17 12:08:37.152 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-17 12:08:37.159 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-17 12:08:37.169 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-17 12:08:37.170 +00:00 [INF] Async initialization completed
2025-02-17 12:08:37.202 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-17 12:08:37.203 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-17 12:08:37.203 +00:00 [INF] Hosting environment: Development
2025-02-17 12:08:37.203 +00:00 [INF] Content root path: /app
2025-02-17 12:09:49.060 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-17 12:09:49.080 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-17 12:09:49.082 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-17 12:09:49.098 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 12:09:49.351 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 12:09:49.441 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-17 12:09:49.448 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 12:09:49.453 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 12:09:49.482 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 382.2552ms
2025-02-17 12:09:49.484 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-17 12:09:49.486 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 405.7638 ms
2025-02-17 12:09:49.488 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 430.2667ms
2025-02-17 12:09:49.491 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa3/quantity - application/json; charset=utf-8 null
2025-02-17 12:09:49.492 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-17 12:09:49.492 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 12:09:49.529 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 12:09:49.534 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-17 12:09:49.535 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 12:09:49.536 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 12:09:49.537 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 44.2551ms
2025-02-17 12:09:49.537 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-17 12:09:49.538 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa3/quantity responded 200 in 45.9670 ms
2025-02-17 12:09:49.538 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa3/quantity - 200 null application/json; charset=utf-8 47.5054ms
2025-02-17 12:09:49.541 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-17 12:09:49.545 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-17 12:09:49.548 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 12:09:49.553 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 12:09:49.554 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 12:09:49.555 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 6.017ms
2025-02-17 12:09:49.555 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-17 12:09:49.556 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 10.7570 ms
2025-02-17 12:09:49.556 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 15.5898ms
2025-02-17 12:09:49.562 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa3 - null null
2025-02-17 12:09:49.563 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-17 12:09:49.564 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-17 12:09:49.566 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-17 12:09:49.566 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-17 12:09:49.567 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 2.7439ms
2025-02-17 12:09:49.567 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-17 12:09:49.567 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa3 responded 200 in 4.1956 ms
2025-02-17 12:09:49.567 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa3 - 200 null application/json; charset=utf-8 5.2534ms
2025-02-17 12:59:41.908 +00:00 [INF] Application is shutting down...
2025-02-17 12:59:41.941 +00:00 [INF] Starting async teardown
2025-02-17 12:59:41.942 +00:00 [INF] Async teardown completed
2025-02-18 08:10:40.549 +00:00 [INF] Starting the application.
2025-02-18 08:10:41.764 +00:00 [INF] Starting async initialization
2025-02-18 08:10:41.766 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-18 08:10:42.498 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-18 08:10:42.663 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-18 08:10:42.673 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-18 08:10:42.675 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-18 08:10:42.681 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-18 08:10:42.690 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-18 08:10:42.690 +00:00 [INF] Async initialization completed
2025-02-18 08:10:42.739 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-18 08:10:42.739 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-18 08:10:42.740 +00:00 [INF] Hosting environment: Development
2025-02-18 08:10:42.740 +00:00 [INF] Content root path: /app
2025-02-18 09:50:04.513 +00:00 [INF] Starting the application.
2025-02-18 09:50:05.955 +00:00 [INF] Starting async initialization
2025-02-18 09:50:05.957 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-18 09:50:06.563 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-18 09:50:06.711 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-18 09:50:06.721 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-18 09:50:06.724 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-18 09:50:06.731 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-18 09:50:06.754 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-18 09:50:06.754 +00:00 [INF] Async initialization completed
2025-02-18 09:50:06.814 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-18 09:50:06.815 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-18 09:50:06.815 +00:00 [INF] Hosting environment: Development
2025-02-18 09:50:06.816 +00:00 [INF] Content root path: /app
2025-02-18 10:32:16.414 +00:00 [INF] Application is shutting down...
2025-02-18 10:32:16.442 +00:00 [INF] Starting async teardown
2025-02-18 10:32:16.443 +00:00 [INF] Async teardown completed
2025-02-18 10:37:28.600 +00:00 [INF] Starting the application.
2025-02-18 10:37:29.411 +00:00 [INF] Starting async initialization
2025-02-18 10:37:29.414 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-18 10:37:29.937 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-18 10:37:30.088 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-18 10:37:30.098 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-18 10:37:30.101 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-18 10:37:30.107 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-18 10:37:30.117 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-18 10:37:30.117 +00:00 [INF] Async initialization completed
2025-02-18 10:37:30.162 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-18 10:37:30.162 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-18 10:37:30.163 +00:00 [INF] Hosting environment: Development
2025-02-18 10:37:30.163 +00:00 [INF] Content root path: /app
2025-02-18 11:00:13.999 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-18 11:00:14.074 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 75.6343ms
2025-02-18 11:00:15.909 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-18 11:00:15.913 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 3.8503ms
2025-02-18 11:00:16.022 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.css - null null
2025-02-18 11:00:16.023 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui.css - null null
2025-02-18 11:00:16.024 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui-bundle.js - null null
2025-02-18 11:00:16.025 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui-standalone-preset.js - null null
2025-02-18 11:00:16.025 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-18 11:00:16.030 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 5.3028ms
2025-02-18 11:00:16.033 +00:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-02-18 11:00:16.034 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.css - 200 202 text/css 11.6543ms
2025-02-18 11:00:16.041 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-02-18 11:00:16.042 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui.css - 200 152035 text/css 19.7247ms
2025-02-18 11:00:16.087 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-02-18 11:00:16.088 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 63.0806ms
2025-02-18 11:00:16.144 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-02-18 11:00:16.144 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 120.6248ms
2025-02-18 11:00:17.368 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-18 11:00:17.369 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 1.4496ms
2025-02-18 11:00:17.392 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-18 11:00:17.394 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 1.313ms
2025-02-18 11:00:17.523 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-18 11:00:17.530 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/favicon-32x32.png - null null
2025-02-18 11:00:17.531 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-02-18 11:00:17.531 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/favicon-32x32.png - 200 628 image/png 1.0749ms
2025-02-18 11:00:17.583 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.6534ms
2025-02-18 13:47:52.646 +00:00 [INF] Application is shutting down...
2025-02-18 13:47:52.705 +00:00 [INF] Starting async teardown
2025-02-18 13:47:52.707 +00:00 [INF] Async teardown completed
2025-02-18 18:16:21.143 +00:00 [INF] Starting the application.
2025-02-18 18:16:22.090 +00:00 [INF] Starting async initialization
2025-02-18 18:16:22.093 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-18 18:16:22.598 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-18 18:16:22.754 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-18 18:16:22.766 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-18 18:16:22.768 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-18 18:16:22.776 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-18 18:16:22.784 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-18 18:16:22.784 +00:00 [INF] Async initialization completed
2025-02-18 18:16:22.831 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-18 18:16:22.832 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-18 18:16:22.832 +00:00 [INF] Hosting environment: Development
2025-02-18 18:16:22.833 +00:00 [INF] Content root path: /app
2025-02-18 18:16:23.765 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-18 18:16:23.847 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 82.772ms
2025-02-18 18:16:23.911 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-18 18:16:23.921 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 9.6816ms
2025-02-18 18:16:23.971 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-18 18:16:24.032 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.364ms
2025-02-18 19:10:13.985 +00:00 [INF] Application is shutting down...
2025-02-18 19:10:14.035 +00:00 [INF] Starting async teardown
2025-02-18 19:10:14.036 +00:00 [INF] Async teardown completed
2025-02-18 19:18:17.164 +00:00 [INF] Starting the application.
2025-02-18 19:18:17.751 +00:00 [INF] Starting async initialization
2025-02-18 19:18:17.753 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-18 19:18:18.158 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-18 19:18:18.289 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-18 19:18:18.299 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-18 19:18:18.300 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-18 19:18:18.308 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-18 19:18:18.315 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-18 19:18:18.315 +00:00 [INF] Async initialization completed
2025-02-18 19:18:18.348 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-18 19:18:18.349 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-18 19:18:18.349 +00:00 [INF] Hosting environment: Development
2025-02-18 19:18:18.350 +00:00 [INF] Content root path: /app
2025-02-18 19:47:50.917 +00:00 [INF] Application is shutting down...
2025-02-18 19:47:50.932 +00:00 [INF] Starting async teardown
2025-02-18 19:47:50.932 +00:00 [INF] Async teardown completed
2025-02-19 06:24:07.034 +00:00 [INF] Starting the application.
2025-02-19 06:24:07.918 +00:00 [INF] Starting async initialization
2025-02-19 06:24:07.920 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-19 06:24:08.397 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 06:24:08.536 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-19 06:24:08.546 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-19 06:24:08.548 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 06:24:08.555 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-19 06:24:08.563 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-19 06:24:08.564 +00:00 [INF] Async initialization completed
2025-02-19 06:24:08.604 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-19 06:24:08.605 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 06:24:08.606 +00:00 [INF] Hosting environment: Development
2025-02-19 06:24:08.606 +00:00 [INF] Content root path: /app
2025-02-19 06:25:41.377 +00:00 [INF] Application is shutting down...
2025-02-19 06:25:41.396 +00:00 [INF] Starting async teardown
2025-02-19 06:25:41.397 +00:00 [INF] Async teardown completed
2025-02-19 06:25:53.294 +00:00 [INF] Starting the application.
2025-02-19 06:25:54.162 +00:00 [INF] Starting async initialization
2025-02-19 06:25:54.165 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-19 06:25:54.623 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 06:25:54.776 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-19 06:25:54.787 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-19 06:25:54.790 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 06:25:54.796 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-19 06:25:54.807 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-19 06:25:54.807 +00:00 [INF] Async initialization completed
2025-02-19 06:25:54.845 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-19 06:25:54.846 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 06:25:54.846 +00:00 [INF] Hosting environment: Development
2025-02-19 06:25:54.847 +00:00 [INF] Content root path: /app
2025-02-19 06:49:39.332 +00:00 [INF] Application is shutting down...
2025-02-19 06:49:39.348 +00:00 [INF] Starting async teardown
2025-02-19 06:49:39.348 +00:00 [INF] Async teardown completed
2025-02-19 06:49:56.667 +00:00 [INF] Starting the application.
2025-02-19 06:49:57.520 +00:00 [INF] Starting async initialization
2025-02-19 06:49:57.522 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-19 06:49:57.992 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 06:49:58.126 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-19 06:49:58.136 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-19 06:49:58.139 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 06:49:58.145 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-19 06:49:58.154 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-19 06:49:58.154 +00:00 [INF] Async initialization completed
2025-02-19 06:49:58.194 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-19 06:49:58.194 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 06:49:58.195 +00:00 [INF] Hosting environment: Development
2025-02-19 06:49:58.195 +00:00 [INF] Content root path: /app
2025-02-19 07:02:21.870 +00:00 [INF] Application is shutting down...
2025-02-19 07:02:21.882 +00:00 [INF] Starting async teardown
2025-02-19 07:02:21.882 +00:00 [INF] Async teardown completed
2025-02-19 07:02:37.079 +00:00 [INF] Starting the application.
2025-02-19 07:02:37.951 +00:00 [INF] Starting async initialization
2025-02-19 07:02:37.954 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-19 07:02:38.448 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 07:02:38.596 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-19 07:02:38.608 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-19 07:02:38.611 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 07:02:38.618 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-19 07:02:38.626 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-19 07:02:38.626 +00:00 [INF] Async initialization completed
2025-02-19 07:02:38.663 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-19 07:02:38.664 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 07:02:38.664 +00:00 [INF] Hosting environment: Development
2025-02-19 07:02:38.665 +00:00 [INF] Content root path: /app
2025-02-19 07:06:06.183 +00:00 [INF] Application is shutting down...
2025-02-19 07:06:06.192 +00:00 [INF] Starting async teardown
2025-02-19 07:06:06.193 +00:00 [INF] Async teardown completed
2025-02-19 07:06:14.499 +00:00 [INF] Starting the application.
2025-02-19 07:06:15.298 +00:00 [INF] Starting async initialization
2025-02-19 07:06:15.300 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-19 07:06:15.798 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 07:06:15.942 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-19 07:06:15.952 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-19 07:06:15.955 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 07:06:15.964 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-19 07:06:15.973 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-19 07:06:15.974 +00:00 [INF] Async initialization completed
2025-02-19 07:06:16.015 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-19 07:06:16.015 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 07:06:16.016 +00:00 [INF] Hosting environment: Development
2025-02-19 07:06:16.016 +00:00 [INF] Content root path: /app
2025-02-19 07:07:09.998 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-19 07:07:10.016 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-19 07:07:10.019 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-19 07:07:10.035 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-19 07:07:10.258 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-19 07:07:10.347 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-19 07:07:10.355 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-19 07:07:10.361 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-19 07:07:10.392 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 354.9574ms
2025-02-19 07:07:10.393 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-19 07:07:10.395 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 379.0644 ms
2025-02-19 07:07:10.398 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 401.3203ms
2025-02-19 07:07:10.400 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-19 07:07:10.405 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-19 07:07:10.408 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-19 07:07:10.445 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-19 07:07:10.446 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-19 07:07:10.447 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 39.0087ms
2025-02-19 07:07:10.448 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-19 07:07:10.448 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 43.6972 ms
2025-02-19 07:07:10.449 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 48.1655ms
2025-02-19 07:09:11.315 +00:00 [INF] Application is shutting down...
2025-02-19 07:09:11.323 +00:00 [INF] Starting async teardown
2025-02-19 07:09:11.324 +00:00 [INF] Async teardown completed
2025-02-19 07:09:31.987 +00:00 [INF] Starting the application.
2025-02-19 07:09:32.780 +00:00 [INF] Starting async initialization
2025-02-19 07:09:32.783 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-19 07:09:33.242 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 07:09:33.390 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-19 07:09:33.400 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-19 07:09:33.403 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 07:09:33.409 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-19 07:09:33.417 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-19 07:09:33.418 +00:00 [INF] Async initialization completed
2025-02-19 07:09:33.458 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-19 07:09:33.459 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 07:09:33.460 +00:00 [INF] Hosting environment: Development
2025-02-19 07:09:33.460 +00:00 [INF] Content root path: /app
2025-02-19 07:09:43.826 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-19 07:09:43.897 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 71.7736ms
2025-02-19 07:09:54.733 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-19 07:09:54.733 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui-standalone-preset.js - null null
2025-02-19 07:09:54.760 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 27.0983ms
2025-02-19 07:09:54.796 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-02-19 07:09:54.798 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 64.6501ms
2025-02-19 07:09:54.837 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-19 07:09:54.907 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.9839ms
2025-02-19 07:10:33.861 +00:00 [INF] Application is shutting down...
2025-02-19 07:10:33.876 +00:00 [INF] Starting async teardown
2025-02-19 07:10:33.877 +00:00 [INF] Async teardown completed
2025-02-19 07:10:40.909 +00:00 [INF] Starting the application.
2025-02-19 07:10:41.615 +00:00 [INF] Starting async initialization
2025-02-19 07:10:41.617 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-19 07:10:42.089 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 07:10:42.253 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-19 07:10:42.263 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-19 07:10:42.265 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 07:10:42.271 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-19 07:10:42.280 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-19 07:10:42.281 +00:00 [INF] Async initialization completed
2025-02-19 07:10:42.322 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-19 07:10:42.322 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 07:10:42.323 +00:00 [INF] Hosting environment: Development
2025-02-19 07:10:42.323 +00:00 [INF] Content root path: /app
2025-02-19 07:18:08.684 +00:00 [INF] Application is shutting down...
2025-02-19 07:18:08.694 +00:00 [INF] Starting async teardown
2025-02-19 07:18:08.695 +00:00 [INF] Async teardown completed
2025-02-19 07:18:16.208 +00:00 [INF] Starting the application.
2025-02-19 07:18:17.061 +00:00 [INF] Starting async initialization
2025-02-19 07:18:17.064 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-19 07:18:17.535 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 07:18:17.678 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-19 07:18:17.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-19 07:18:17.692 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 07:18:17.698 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-19 07:18:17.708 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-19 07:18:17.708 +00:00 [INF] Async initialization completed
2025-02-19 07:18:17.748 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-19 07:18:17.749 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 07:18:17.749 +00:00 [INF] Hosting environment: Development
2025-02-19 07:18:17.749 +00:00 [INF] Content root path: /app
2025-02-19 09:39:03.951 +00:00 [INF] Application is shutting down...
2025-02-19 09:39:03.999 +00:00 [INF] Starting async teardown
2025-02-19 09:39:04.001 +00:00 [INF] Async teardown completed
2025-02-19 14:56:34.247 +00:00 [INF] Starting the application.
2025-02-19 14:56:35.234 +00:00 [INF] Starting async initialization
2025-02-19 14:56:35.238 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-19 14:56:35.806 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 14:56:35.948 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-19 14:56:35.958 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-19 14:56:35.960 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 14:56:35.967 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-19 14:56:35.977 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-19 14:56:35.977 +00:00 [INF] Async initialization completed
2025-02-19 14:56:36.022 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-19 14:56:36.023 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 14:56:36.024 +00:00 [INF] Hosting environment: Development
2025-02-19 14:56:36.024 +00:00 [INF] Content root path: /app
2025-02-19 14:56:58.578 +00:00 [INF] Application is shutting down...
2025-02-19 14:56:58.586 +00:00 [INF] Starting async teardown
2025-02-19 14:56:58.586 +00:00 [INF] Async teardown completed
2025-02-19 14:57:02.759 +00:00 [INF] Starting the application.
2025-02-19 14:57:03.490 +00:00 [INF] Starting async initialization
2025-02-19 14:57:03.492 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-19 14:57:03.929 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 14:57:04.070 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-19 14:57:04.081 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-19 14:57:04.082 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-19 14:57:04.089 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-19 14:57:04.100 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-19 14:57:04.100 +00:00 [INF] Async initialization completed
2025-02-19 14:57:04.138 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-19 14:57:04.139 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 14:57:04.139 +00:00 [INF] Hosting environment: Development
2025-02-19 14:57:04.139 +00:00 [INF] Content root path: /app
2025-02-19 14:59:47.101 +00:00 [INF] Application is shutting down...
2025-02-19 14:59:47.110 +00:00 [INF] Starting async teardown
2025-02-19 14:59:47.110 +00:00 [INF] Async teardown completed
2025-02-21 17:11:03.930 +00:00 [INF] Starting the application.
2025-02-21 17:11:04.955 +00:00 [INF] Starting async initialization
2025-02-21 17:11:04.957 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-21 17:11:05.501 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-21 17:11:05.641 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-21 17:11:05.651 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-21 17:11:05.653 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-21 17:11:05.660 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-21 17:11:05.669 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-21 17:11:05.670 +00:00 [INF] Async initialization completed
2025-02-21 17:11:05.718 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-21 17:11:05.719 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 17:11:05.719 +00:00 [INF] Hosting environment: Development
2025-02-21 17:11:05.720 +00:00 [INF] Content root path: /app
2025-02-21 18:32:10.029 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-21 18:32:10.154 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 128.7258ms
2025-02-21 18:32:10.179 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-21 18:32:10.196 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 17.4944ms
2025-02-21 18:32:10.234 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-21 18:32:10.309 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.7311ms
2025-02-21 19:12:51.581 +00:00 [INF] Application is shutting down...
2025-02-21 19:12:51.619 +00:00 [INF] Starting async teardown
2025-02-21 19:12:51.620 +00:00 [INF] Async teardown completed
2025-02-21 19:13:13.019 +00:00 [INF] Starting the application.
2025-02-21 19:13:13.917 +00:00 [INF] Starting async initialization
2025-02-21 19:13:13.920 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-21 19:13:14.459 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-21 19:13:14.640 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-21 19:13:14.652 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-21 19:13:14.656 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-21 19:13:14.663 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-21 19:13:14.674 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-21 19:13:14.675 +00:00 [INF] Async initialization completed
2025-02-21 19:13:14.720 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-21 19:13:14.720 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 19:13:14.721 +00:00 [INF] Hosting environment: Development
2025-02-21 19:13:14.721 +00:00 [INF] Content root path: /app
2025-02-21 19:13:33.706 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-21 19:13:33.725 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 19:13:33.727 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:13:33.742 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:13:34.001 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:13:34.104 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-21 19:13:34.112 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:13:34.116 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:13:34.150 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 405.4703ms
2025-02-21 19:13:34.151 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:13:34.153 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 427.9294 ms
2025-02-21 19:13:34.156 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 451.2167ms
2025-02-21 19:13:34.159 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-21 19:13:34.163 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:13:34.167 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:13:34.200 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:13:34.202 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:13:34.203 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 35.4263ms
2025-02-21 19:13:34.203 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:13:34.203 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 40.3982 ms
2025-02-21 19:13:34.204 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 45.0069ms
2025-02-21 19:14:46.304 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-21 19:14:46.306 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:14:46.307 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:14:46.318 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:14:46.324 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-21 19:14:46.326 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:14:46.326 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:14:46.327 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 19.6809ms
2025-02-21 19:14:46.328 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:14:46.328 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 21.9711 ms
2025-02-21 19:14:46.329 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 24.6807ms
2025-02-21 19:14:46.330 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-21 19:14:46.330 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:14:46.331 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:14:46.334 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:14:46.335 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:14:46.335 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 3.7945ms
2025-02-21 19:14:46.335 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:14:46.336 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 5.1446 ms
2025-02-21 19:14:46.336 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 6.4654ms
2025-02-21 19:23:20.207 +00:00 [INF] Application is shutting down...
2025-02-21 19:23:20.218 +00:00 [INF] Starting async teardown
2025-02-21 19:23:20.219 +00:00 [INF] Async teardown completed
2025-02-21 19:23:29.412 +00:00 [INF] Starting the application.
2025-02-21 19:23:30.238 +00:00 [INF] Starting async initialization
2025-02-21 19:23:30.240 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-21 19:23:30.764 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-21 19:23:30.903 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-21 19:23:30.913 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-21 19:23:30.916 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-21 19:23:30.923 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-21 19:23:30.931 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-21 19:23:30.932 +00:00 [INF] Async initialization completed
2025-02-21 19:23:30.972 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-21 19:23:30.972 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 19:23:30.973 +00:00 [INF] Hosting environment: Development
2025-02-21 19:23:30.973 +00:00 [INF] Content root path: /app
2025-02-21 19:23:40.898 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-21 19:23:40.916 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 19:23:40.918 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:23:40.933 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:23:41.158 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:23:41.252 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-21 19:23:41.260 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:23:41.265 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:23:41.294 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 358.7113ms
2025-02-21 19:23:41.296 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:23:41.297 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 380.5005 ms
2025-02-21 19:23:41.301 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 403.3584ms
2025-02-21 19:23:41.304 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-21 19:23:41.309 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:23:41.312 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:23:41.347 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:23:41.349 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:23:41.350 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 36.6785ms
2025-02-21 19:23:41.350 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:23:41.350 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 41.5863 ms
2025-02-21 19:23:41.351 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 47.06ms
2025-02-21 19:33:14.245 +00:00 [INF] Application is shutting down...
2025-02-21 19:33:14.254 +00:00 [INF] Starting async teardown
2025-02-21 19:33:14.255 +00:00 [INF] Async teardown completed
2025-02-21 19:33:21.729 +00:00 [INF] Starting the application.
2025-02-21 19:33:22.523 +00:00 [INF] Starting async initialization
2025-02-21 19:33:22.526 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-21 19:33:23.029 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-21 19:33:23.190 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-21 19:33:23.208 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-21 19:33:23.210 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-21 19:33:23.218 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-21 19:33:23.226 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-21 19:33:23.226 +00:00 [INF] Async initialization completed
2025-02-21 19:33:23.271 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-21 19:33:23.272 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 19:33:23.272 +00:00 [INF] Hosting environment: Development
2025-02-21 19:33:23.272 +00:00 [INF] Content root path: /app
2025-02-21 19:35:34.767 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-21 19:35:34.786 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 19:35:34.788 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:35:34.804 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:35:35.056 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:35:35.153 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-21 19:35:35.161 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:35:35.166 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:35:35.199 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 392.3322ms
2025-02-21 19:35:35.200 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:35:35.203 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 415.5822 ms
2025-02-21 19:35:35.205 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 439.3114ms
2025-02-21 19:35:35.211 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-21 19:35:35.215 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:35:35.218 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:35:35.256 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:35:35.258 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:35:35.258 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 39.2734ms
2025-02-21 19:35:35.258 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:35:35.259 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 43.7436 ms
2025-02-21 19:35:35.259 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 48.5765ms
2025-02-21 19:35:45.280 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-21 19:35:45.282 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:35:45.282 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:35:45.289 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:35:45.295 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-21 19:35:45.297 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:35:45.298 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:35:45.298 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 15.5263ms
2025-02-21 19:35:45.298 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:35:45.299 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 16.9822 ms
2025-02-21 19:35:45.299 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 18.8464ms
2025-02-21 19:35:45.300 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-21 19:35:45.300 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:35:45.301 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:35:45.303 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:35:45.303 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:35:45.304 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 2.7695ms
2025-02-21 19:35:45.304 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:35:45.304 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 3.7916 ms
2025-02-21 19:35:45.304 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 4.7153ms
2025-02-21 19:36:20.647 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-21 19:36:20.648 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:36:20.649 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:36:20.652 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:36:20.658 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-21 19:36:20.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:36:20.660 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:36:20.661 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 11.2433ms
2025-02-21 19:36:20.661 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:36:20.661 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 13.4304 ms
2025-02-21 19:36:20.662 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 14.8535ms
2025-02-21 19:36:20.662 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-21 19:36:20.663 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:36:20.663 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:36:20.665 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:36:20.665 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-21 19:36:20.666 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 2.6453ms
2025-02-21 19:36:20.666 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-21 19:36:20.666 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 3.7022 ms
2025-02-21 19:36:20.667 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 4.3605ms
2025-02-21 19:50:50.571 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa5/quantity - application/json; charset=utf-8 null
2025-02-21 19:50:50.572 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:50:50.573 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:50:50.581 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:50:50.582 +00:00 [WRN] Product with ID 3fa85f64-5717-4562-b3fc-2c963f66afa5 is not found
2025-02-21 19:50:50.583 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 9.9578ms
2025-02-21 19:50:50.583 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-21 19:50:50.584 +00:00 [ERR] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa5/quantity responded 500 in 11.8053 ms
CatalogService.Application.Exceptions.ProductNotFoundException: Product with ID 3fa85f64-5717-4562-b3fc-2c963f66afa5 not found.
   at CatalogService.Application.Services.ProductService.UpdateQuantityProductAsync(Guid id, Int32 quantity) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 87
   at CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity(Guid id, Int32 quantity) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 19:50:50.603 +00:00 [ERR] An unhandled exception occurred.
CatalogService.Application.Exceptions.ProductNotFoundException: Product with ID 3fa85f64-5717-4562-b3fc-2c963f66afa5 not found.
   at CatalogService.Application.Services.ProductService.UpdateQuantityProductAsync(Guid id, Int32 quantity) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 87
   at CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity(Guid id, Int32 quantity) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at CatalogService.Presentation.Middleware.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Middleware\ExceptionHandlerMiddleware.cs:line 23
2025-02-21 19:50:50.612 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa5/quantity - 404 null application/json 40.8928ms
2025-02-21 19:51:32.926 +00:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa5 - null null
2025-02-21 19:51:32.927 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.DeleteProduct (CatalogService.Presentation)'
2025-02-21 19:51:32.931 +00:00 [INF] Route matched with {action = "DeleteProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteProduct(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-21 19:51:32.934 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-21 19:51:32.935 +00:00 [WRN] Product with ID 3fa85f64-5717-4562-b3fc-2c963f66afa5 is not found
2025-02-21 19:51:32.935 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.DeleteProduct (CatalogService.Presentation) in 3.7461ms
2025-02-21 19:51:32.935 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.DeleteProduct (CatalogService.Presentation)'
2025-02-21 19:51:32.936 +00:00 [ERR] HTTP DELETE /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa5 responded 500 in 9.3224 ms
CatalogService.Application.Exceptions.ProductNotFoundException: Product with ID 3fa85f64-5717-4562-b3fc-2c963f66afa5 not found.
   at CatalogService.Application.Services.ProductService.DeleteProductAsync(Guid id) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 55
   at CatalogService.Presentation.Controllers.ProductsController.DeleteProduct(Guid id) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 19:51:32.937 +00:00 [ERR] An unhandled exception occurred.
CatalogService.Application.Exceptions.ProductNotFoundException: Product with ID 3fa85f64-5717-4562-b3fc-2c963f66afa5 not found.
   at CatalogService.Application.Services.ProductService.DeleteProductAsync(Guid id) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Application\Services\ProductService.cs:line 55
   at CatalogService.Presentation.Controllers.ProductsController.DeleteProduct(Guid id) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Controllers\ProductsController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at CatalogService.Presentation.Middleware.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Миша\Desktop\Полигон\OrderManagementSystem\CatalogService.Presentation\Middleware\ExceptionHandlerMiddleware.cs:line 23
2025-02-21 19:51:32.938 +00:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8082/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa5 - 404 null application/json 12.3424ms
2025-02-21 20:33:01.306 +00:00 [INF] Application is shutting down...
2025-02-21 20:33:01.338 +00:00 [INF] Starting async teardown
2025-02-21 20:33:01.339 +00:00 [INF] Async teardown completed
2025-02-22 11:04:26.794 +00:00 [INF] Starting the application.
2025-02-22 11:04:28.064 +00:00 [INF] Starting async initialization
2025-02-22 11:04:28.068 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 11:04:28.916 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 11:04:29.196 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 11:04:29.209 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 11:04:29.212 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 11:04:29.222 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 11:04:29.241 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 11:04:29.241 +00:00 [INF] Async initialization completed
2025-02-22 11:04:29.305 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 11:04:29.306 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 11:04:29.306 +00:00 [INF] Hosting environment: Development
2025-02-22 11:04:29.307 +00:00 [INF] Content root path: /app
2025-02-22 11:18:04.924 +00:00 [INF] Application is shutting down...
2025-02-22 11:18:04.934 +00:00 [INF] Starting async teardown
2025-02-22 11:18:04.935 +00:00 [INF] Async teardown completed
2025-02-22 11:18:30.697 +00:00 [INF] Starting the application.
2025-02-22 11:18:31.530 +00:00 [INF] Starting async initialization
2025-02-22 11:18:31.532 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 11:18:32.023 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 11:18:32.187 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 11:18:32.198 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 11:18:32.200 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 11:18:32.206 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 11:18:32.221 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 11:18:32.221 +00:00 [INF] Async initialization completed
2025-02-22 11:18:32.256 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 11:18:32.256 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 11:18:32.257 +00:00 [INF] Hosting environment: Development
2025-02-22 11:18:32.257 +00:00 [INF] Content root path: /app
2025-02-22 11:19:13.212 +00:00 [INF] Application is shutting down...
2025-02-22 11:19:13.228 +00:00 [INF] Starting async teardown
2025-02-22 11:19:13.229 +00:00 [INF] Async teardown completed
2025-02-22 11:19:18.694 +00:00 [INF] Starting the application.
2025-02-22 11:19:19.493 +00:00 [INF] Starting async initialization
2025-02-22 11:19:19.497 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 11:19:19.964 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 11:19:20.108 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 11:19:20.120 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 11:19:20.123 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 11:19:20.130 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 11:19:20.141 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 11:19:20.142 +00:00 [INF] Async initialization completed
2025-02-22 11:19:20.180 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 11:19:20.181 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 11:19:20.181 +00:00 [INF] Hosting environment: Development
2025-02-22 11:19:20.182 +00:00 [INF] Content root path: /app
2025-02-22 11:19:46.880 +00:00 [INF] Application is shutting down...
2025-02-22 11:19:46.893 +00:00 [INF] Starting async teardown
2025-02-22 11:19:46.893 +00:00 [INF] Async teardown completed
2025-02-22 11:19:55.685 +00:00 [INF] Starting the application.
2025-02-22 11:19:56.489 +00:00 [INF] Starting async initialization
2025-02-22 11:19:56.492 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 11:19:56.950 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 11:19:57.105 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 11:19:57.121 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 11:19:57.124 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 11:19:57.134 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 11:19:57.146 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 11:19:57.147 +00:00 [INF] Async initialization completed
2025-02-22 11:19:57.187 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 11:19:57.188 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 11:19:57.188 +00:00 [INF] Hosting environment: Development
2025-02-22 11:19:57.189 +00:00 [INF] Content root path: /app
2025-02-22 11:29:04.355 +00:00 [INF] Application is shutting down...
2025-02-22 11:29:04.368 +00:00 [INF] Starting async teardown
2025-02-22 11:29:04.369 +00:00 [INF] Async teardown completed
2025-02-22 11:29:15.260 +00:00 [INF] Starting the application.
2025-02-22 11:29:16.053 +00:00 [INF] Starting async initialization
2025-02-22 11:29:16.055 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 11:29:16.562 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 11:29:16.704 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 11:29:16.713 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 11:29:16.715 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 11:29:16.722 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 11:29:16.736 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 11:29:16.736 +00:00 [INF] Async initialization completed
2025-02-22 11:29:16.787 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 11:29:16.788 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 11:29:16.788 +00:00 [INF] Hosting environment: Development
2025-02-22 11:29:16.789 +00:00 [INF] Content root path: /app
2025-02-22 12:44:14.044 +00:00 [INF] Application is shutting down...
2025-02-22 12:44:14.088 +00:00 [INF] Starting async teardown
2025-02-22 12:44:14.088 +00:00 [INF] Async teardown completed
2025-02-22 12:44:28.812 +00:00 [INF] Starting the application.
2025-02-22 12:44:29.754 +00:00 [INF] Starting async initialization
2025-02-22 12:44:29.757 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 12:44:30.378 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 12:44:30.536 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 12:44:30.548 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 12:44:30.551 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 12:44:30.559 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 12:44:30.567 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 12:44:30.568 +00:00 [INF] Async initialization completed
2025-02-22 12:44:30.615 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 12:44:30.615 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 12:44:30.616 +00:00 [INF] Hosting environment: Development
2025-02-22 12:44:30.616 +00:00 [INF] Content root path: /app
2025-02-22 12:46:04.105 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.html - null null
2025-02-22 12:46:04.188 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.html - 200 null text/html;charset=utf-8 83.9631ms
2025-02-22 12:46:04.214 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/index.js - null null
2025-02-22 12:46:04.229 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/index.js - 200 null application/javascript;charset=utf-8 15.2406ms
2025-02-22 12:46:04.319 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - null null
2025-02-22 12:46:04.377 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8082/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.985ms
2025-02-22 12:50:13.460 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 12:50:13.464 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 12:50:13.466 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 12:50:13.485 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 12:50:13.717 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 12:50:13.809 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 12:50:13.816 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 12:50:13.822 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 12:50:13.843 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 355.1359ms
2025-02-22 12:50:13.844 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 12:50:13.846 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 382.2508 ms
2025-02-22 12:50:13.848 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 388.6133ms
2025-02-22 12:50:13.851 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 12:50:13.852 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 12:50:13.856 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 12:50:13.891 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 12:50:13.892 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 12:50:13.893 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 37.0503ms
2025-02-22 12:50:13.895 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 12:50:13.896 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 43.9451 ms
2025-02-22 12:50:13.897 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 45.3707ms
2025-02-22 12:51:10.225 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 12:51:10.226 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 12:51:10.226 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 12:51:10.233 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 12:51:10.239 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 12:51:10.241 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 12:51:10.242 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 12:51:10.243 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 16.3493ms
2025-02-22 12:51:10.243 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 12:51:10.244 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 18.0407 ms
2025-02-22 12:51:10.244 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 19.4676ms
2025-02-22 12:51:10.245 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 12:51:10.246 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 12:51:10.246 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 12:51:10.249 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 12:51:10.249 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 12:51:10.250 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 3.2863ms
2025-02-22 12:51:10.250 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 12:51:10.250 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 4.6285 ms
2025-02-22 12:51:10.251 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 5.5998ms
2025-02-22 13:00:43.560 +00:00 [INF] Application is shutting down...
2025-02-22 13:00:43.570 +00:00 [INF] Starting async teardown
2025-02-22 13:00:43.571 +00:00 [INF] Async teardown completed
2025-02-22 13:00:55.473 +00:00 [INF] Starting the application.
2025-02-22 13:00:56.287 +00:00 [INF] Starting async initialization
2025-02-22 13:00:56.290 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 13:00:56.785 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 13:00:56.945 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 13:00:56.954 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 13:00:56.956 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 13:00:56.963 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 13:00:56.971 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 13:00:56.972 +00:00 [INF] Async initialization completed
2025-02-22 13:00:57.011 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 13:00:57.012 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 13:00:57.012 +00:00 [INF] Hosting environment: Development
2025-02-22 13:00:57.013 +00:00 [INF] Content root path: /app
2025-02-22 13:01:27.516 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 13:01:27.536 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 13:01:27.538 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:01:27.553 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:01:27.772 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:01:27.859 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 13:01:27.867 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:01:27.871 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:01:27.900 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 344.7841ms
2025-02-22 13:01:27.901 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:01:27.903 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 366.4387 ms
2025-02-22 13:01:27.905 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 389.909ms
2025-02-22 13:01:27.908 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 13:01:27.913 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:01:27.916 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:01:27.951 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:01:27.952 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:01:27.953 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 36.7001ms
2025-02-22 13:01:27.953 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:01:27.954 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 41.1794 ms
2025-02-22 13:01:27.954 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 46.2043ms
2025-02-22 13:33:19.534 +00:00 [INF] Application is shutting down...
2025-02-22 13:33:19.551 +00:00 [INF] Starting async teardown
2025-02-22 13:33:19.552 +00:00 [INF] Async teardown completed
2025-02-22 13:33:28.509 +00:00 [INF] Starting the application.
2025-02-22 13:33:29.330 +00:00 [INF] Starting async initialization
2025-02-22 13:33:29.333 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 13:33:29.889 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 13:33:30.065 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 13:33:30.080 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 13:33:30.083 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 13:33:30.090 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 13:33:30.102 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 13:33:30.103 +00:00 [INF] Async initialization completed
2025-02-22 13:33:30.172 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 13:33:30.173 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 13:33:30.173 +00:00 [INF] Hosting environment: Development
2025-02-22 13:33:30.174 +00:00 [INF] Content root path: /app
2025-02-22 13:33:38.323 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 13:33:38.341 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 13:33:38.344 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:33:38.359 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:33:38.574 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:33:38.663 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 13:33:38.670 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:33:38.677 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:33:38.708 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 346.4854ms
2025-02-22 13:33:38.709 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:33:38.711 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 369.0451 ms
2025-02-22 13:33:38.714 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 392.132ms
2025-02-22 13:33:38.717 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 13:33:38.722 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:33:38.725 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:33:38.764 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:33:38.766 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:33:38.767 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 41.213ms
2025-02-22 13:33:38.767 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:33:38.768 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 46.1267 ms
2025-02-22 13:33:38.768 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 51.2538ms
2025-02-22 13:38:26.886 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 13:38:26.889 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:38:26.889 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:38:26.898 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:38:26.905 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 13:38:26.907 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:38:26.907 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:38:26.908 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 18.3769ms
2025-02-22 13:38:26.909 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:38:26.909 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 20.6236 ms
2025-02-22 13:38:26.910 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 23.4285ms
2025-02-22 13:38:26.920 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 13:38:26.921 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:38:26.921 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:38:26.924 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:38:26.924 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:38:26.925 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 3.6435ms
2025-02-22 13:38:26.925 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:38:26.926 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 5.4718 ms
2025-02-22 13:38:26.927 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 6.9513ms
2025-02-22 13:38:56.522 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 13:38:56.523 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:38:56.523 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:38:56.532 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:38:56.535 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 13:38:56.536 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:38:56.537 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:38:56.538 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 13.8698ms
2025-02-22 13:38:56.538 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:38:56.538 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 15.4020 ms
2025-02-22 13:38:56.539 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 17.1143ms
2025-02-22 13:38:56.549 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 13:38:56.549 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:38:56.550 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:38:56.552 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:38:56.552 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:38:56.553 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 2.808ms
2025-02-22 13:38:56.553 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:38:56.554 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 4.3820 ms
2025-02-22 13:38:56.554 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 5.4247ms
2025-02-22 13:39:16.341 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 13:39:16.342 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:39:16.342 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:39:16.345 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:39:16.351 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 13:39:16.353 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:39:16.354 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:39:16.354 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 11.6301ms
2025-02-22 13:39:16.354 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:39:16.355 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 13.0800 ms
2025-02-22 13:39:16.355 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 14.0251ms
2025-02-22 13:39:16.356 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 13:39:16.357 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:39:16.357 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:39:16.359 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:39:16.360 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:39:16.360 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 2.9201ms
2025-02-22 13:39:16.361 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:39:16.361 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 4.1538 ms
2025-02-22 13:39:16.362 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 5.202ms
2025-02-22 13:40:38.804 +00:00 [INF] Application is shutting down...
2025-02-22 13:40:38.814 +00:00 [INF] Starting async teardown
2025-02-22 13:40:38.815 +00:00 [INF] Async teardown completed
2025-02-22 13:44:32.511 +00:00 [INF] Starting the application.
2025-02-22 13:44:33.339 +00:00 [INF] Starting async initialization
2025-02-22 13:44:33.341 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 13:44:33.835 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 13:44:33.976 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 13:44:33.986 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 13:44:33.988 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 13:44:33.995 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 13:44:34.003 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 13:44:34.004 +00:00 [INF] Async initialization completed
2025-02-22 13:44:34.047 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 13:44:34.048 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 13:44:34.048 +00:00 [INF] Hosting environment: Development
2025-02-22 13:44:34.048 +00:00 [INF] Content root path: /app
2025-02-22 13:44:52.445 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 13:44:52.463 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 13:44:52.465 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:44:52.480 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:44:52.705 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:44:52.791 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 13:44:52.800 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:44:52.805 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:44:52.836 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 353.8453ms
2025-02-22 13:44:52.837 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:44:52.838 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 375.2450 ms
2025-02-22 13:44:52.841 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 397.4446ms
2025-02-22 13:44:52.845 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 13:44:52.849 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:44:52.852 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:44:52.889 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:44:52.891 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:44:52.891 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 38.3846ms
2025-02-22 13:44:52.892 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:44:52.892 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 42.6857 ms
2025-02-22 13:44:52.892 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 47.5374ms
2025-02-22 13:48:17.568 +00:00 [INF] Application is shutting down...
2025-02-22 13:48:17.579 +00:00 [INF] Starting async teardown
2025-02-22 13:48:17.580 +00:00 [INF] Async teardown completed
2025-02-22 13:48:48.549 +00:00 [INF] Starting the application.
2025-02-22 13:48:49.356 +00:00 [INF] Starting async initialization
2025-02-22 13:48:49.358 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 13:48:49.834 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 13:48:49.973 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 13:48:49.983 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 13:48:49.985 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 13:48:49.993 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 13:48:50.007 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 13:48:50.008 +00:00 [INF] Async initialization completed
2025-02-22 13:48:50.045 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 13:48:50.045 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 13:48:50.045 +00:00 [INF] Hosting environment: Development
2025-02-22 13:48:50.046 +00:00 [INF] Content root path: /app
2025-02-22 13:49:01.188 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 13:49:01.209 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 13:49:01.211 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:49:01.226 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:49:01.453 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:49:01.542 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 13:49:01.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:49:01.555 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:49:01.584 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 355.6494ms
2025-02-22 13:49:01.585 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:49:01.588 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 378.1951 ms
2025-02-22 13:49:01.590 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 403.6155ms
2025-02-22 13:49:01.594 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 13:49:01.598 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:49:01.602 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:49:01.638 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:49:01.639 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:49:01.640 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 37.9273ms
2025-02-22 13:49:01.641 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:49:01.641 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 42.5255 ms
2025-02-22 13:49:01.641 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 47.1862ms
2025-02-22 13:57:10.492 +00:00 [INF] Application is shutting down...
2025-02-22 13:57:10.503 +00:00 [INF] Starting async teardown
2025-02-22 13:57:10.503 +00:00 [INF] Async teardown completed
2025-02-22 13:58:28.787 +00:00 [INF] Starting the application.
2025-02-22 13:58:29.652 +00:00 [INF] Starting async initialization
2025-02-22 13:58:29.654 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 13:58:30.128 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 13:58:30.306 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 13:58:30.317 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 13:58:30.319 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 13:58:30.327 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 13:58:30.336 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 13:58:30.337 +00:00 [INF] Async initialization completed
2025-02-22 13:58:30.373 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 13:58:30.373 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 13:58:30.374 +00:00 [INF] Hosting environment: Development
2025-02-22 13:58:30.374 +00:00 [INF] Content root path: /app
2025-02-22 13:58:43.927 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 13:58:43.947 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 13:58:43.950 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:58:43.965 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:58:44.192 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:58:44.281 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 13:58:44.288 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:58:44.294 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:58:44.324 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 356.8225ms
2025-02-22 13:58:44.325 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 13:58:44.327 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 379.1506 ms
2025-02-22 13:58:44.329 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 403.0873ms
2025-02-22 13:58:44.333 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 13:58:44.338 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:58:44.341 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 13:58:44.377 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 13:58:44.379 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 13:58:44.380 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 38.0137ms
2025-02-22 13:58:44.380 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 13:58:44.380 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 42.2927 ms
2025-02-22 13:58:44.381 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 47.2364ms
2025-02-22 14:00:06.641 +00:00 [INF] Application is shutting down...
2025-02-22 14:00:06.649 +00:00 [INF] Starting async teardown
2025-02-22 14:00:06.650 +00:00 [INF] Async teardown completed
2025-02-22 14:00:26.666 +00:00 [INF] Starting the application.
2025-02-22 14:00:27.518 +00:00 [INF] Starting async initialization
2025-02-22 14:00:27.521 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 14:00:28.008 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 14:00:28.150 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 14:00:28.160 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 14:00:28.162 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 14:00:28.169 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 14:00:28.177 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 14:00:28.177 +00:00 [INF] Async initialization completed
2025-02-22 14:00:28.219 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 14:00:28.220 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 14:00:28.221 +00:00 [INF] Hosting environment: Development
2025-02-22 14:00:28.221 +00:00 [INF] Content root path: /app
2025-02-22 14:00:44.989 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 14:00:45.006 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 14:00:45.008 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 14:00:45.022 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 14:00:45.242 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 14:00:45.331 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 14:00:45.339 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 14:00:45.344 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 14:00:45.373 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 347.9552ms
2025-02-22 14:00:45.374 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 14:00:45.376 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 369.3463 ms
2025-02-22 14:00:45.378 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 390.7968ms
2025-02-22 14:00:45.382 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 14:00:45.386 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 14:00:45.390 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 14:00:45.426 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 14:00:45.427 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 14:00:45.427 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 37.3322ms
2025-02-22 14:00:45.428 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 14:00:45.428 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 41.9680 ms
2025-02-22 14:00:45.429 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 46.808ms
2025-02-22 14:01:30.921 +00:00 [INF] Application is shutting down...
2025-02-22 14:01:30.936 +00:00 [INF] Starting async teardown
2025-02-22 14:01:30.937 +00:00 [INF] Async teardown completed
2025-02-22 14:01:50.296 +00:00 [INF] Starting the application.
2025-02-22 14:01:51.079 +00:00 [INF] Starting async initialization
2025-02-22 14:01:51.082 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 14:01:51.604 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 14:01:51.800 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 14:01:51.812 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 14:01:51.814 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 14:01:51.824 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 14:01:51.836 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 14:01:51.836 +00:00 [INF] Async initialization completed
2025-02-22 14:01:51.886 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 14:01:51.887 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 14:01:51.887 +00:00 [INF] Hosting environment: Development
2025-02-22 14:01:51.887 +00:00 [INF] Content root path: /app
2025-02-22 14:02:24.406 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 14:02:24.424 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 14:02:24.426 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 14:02:24.440 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 14:02:24.663 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 14:02:24.754 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 14:02:24.761 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 14:02:24.766 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 14:02:24.796 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 353.018ms
2025-02-22 14:02:24.798 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 14:02:24.800 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 375.1416 ms
2025-02-22 14:02:24.803 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 397.9726ms
2025-02-22 14:02:24.806 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 14:02:24.810 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 14:02:24.815 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 14:02:24.851 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 14:02:24.852 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 14:02:24.853 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 37.4251ms
2025-02-22 14:02:24.853 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 14:02:24.853 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 43.1213 ms
2025-02-22 14:02:24.854 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 47.8721ms
2025-02-22 14:03:04.016 +00:00 [INF] Application is shutting down...
2025-02-22 14:03:04.028 +00:00 [INF] Starting async teardown
2025-02-22 14:03:04.029 +00:00 [INF] Async teardown completed
2025-02-22 14:03:06.090 +00:00 [INF] Starting the application.
2025-02-22 14:03:06.804 +00:00 [INF] Starting async initialization
2025-02-22 14:03:06.807 +00:00 [INF] Starting async initialization for CatalogService.Infrastructure.DbInitializer
2025-02-22 14:03:07.279 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 14:03:07.425 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-22 14:03:07.435 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-02-22 14:03:07.438 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-22 14:03:07.445 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-02-22 14:03:07.453 +00:00 [INF] Async initialization for CatalogService.Infrastructure.DbInitializer completed
2025-02-22 14:03:07.454 +00:00 [INF] Async initialization completed
2025-02-22 14:03:07.493 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-22 14:03:07.494 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 14:03:07.494 +00:00 [INF] Hosting environment: Development
2025-02-22 14:03:07.495 +00:00 [INF] Content root path: /app
2025-02-22 14:03:58.343 +00:00 [INF] Request starting HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - application/json; charset=utf-8 null
2025-02-22 14:03:58.360 +00:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 14:03:58.362 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 14:03:58.376 +00:00 [INF] Route matched with {action = "UpdateProductQuantity", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductQuantity(System.Guid, Int32) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 14:03:58.589 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 14:03:58.677 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "CreatedDateUtc" = @p1, "Description" = @p2, "Name" = @p3, "Price" = @p4, "Quantity" = @p5, "UpdatedDateUtc" = @p6
WHERE "Id" = @p7;
2025-02-22 14:03:58.686 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 14:03:58.691 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 14:03:58.723 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation) in 344.8078ms
2025-02-22 14:03:58.724 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.UpdateProductQuantity (CatalogService.Presentation)'
2025-02-22 14:03:58.726 +00:00 [INF] HTTP PATCH /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity responded 200 in 366.0994 ms
2025-02-22 14:03:58.728 +00:00 [INF] Request finished HTTP/1.1 PATCH http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6/quantity - 200 null application/json; charset=utf-8 387.0568ms
2025-02-22 14:03:58.732 +00:00 [INF] Request starting HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-02-22 14:03:58.737 +00:00 [INF] Executing endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 14:03:58.741 +00:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller CatalogService.Presentation.Controllers.ProductsController (CatalogService.Presentation).
2025-02-22 14:03:58.779 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDateUtc", p."Description", p."Name", p."Price", p."Quantity", p."UpdatedDateUtc"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-02-22 14:03:58.781 +00:00 [INF] Executing OkObjectResult, writing value of type 'CatalogService.Application.DTOs.ProductDTO'.
2025-02-22 14:03:58.781 +00:00 [INF] Executed action CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation) in 40.2383ms
2025-02-22 14:03:58.782 +00:00 [INF] Executed endpoint 'CatalogService.Presentation.Controllers.ProductsController.GetProductById (CatalogService.Presentation)'
2025-02-22 14:03:58.782 +00:00 [INF] HTTP GET /api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 200 in 45.0574 ms
2025-02-22 14:03:58.783 +00:00 [INF] Request finished HTTP/1.1 GET http://catalog_service:8080/api/Products/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 50.3248ms
2025-02-22 16:06:22.874 +00:00 [INF] Application is shutting down...
2025-02-22 16:06:22.885 +00:00 [INF] Starting async teardown
2025-02-22 16:06:22.885 +00:00 [INF] Async teardown completed
